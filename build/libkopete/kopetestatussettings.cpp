// This file is generated by kconfig_compiler from kopetestatussettings.kcfg.
// All changes you do to this file will be lost.

#include "kopetestatussettings.h"

#include <kglobal.h>
#include <QtCore/QFile>

using namespace Kopete;

namespace Kopete {

class StatusSettingsHelper
{
  public:
    StatusSettingsHelper() : q(0) {}
    ~StatusSettingsHelper() { delete q; }
    StatusSettings *q;
};
}

K_GLOBAL_STATIC(StatusSettingsHelper, s_globalStatusSettings)
StatusSettings *StatusSettings::self()
{
  if (!s_globalStatusSettings->q) {
    new StatusSettings;
    s_globalStatusSettings->q->readConfig();
  }

  return s_globalStatusSettings->q;
}

StatusSettings::StatusSettings(  )
  : KConfigSkeleton( QLatin1String( "kopeterc" ) )
{
  Q_ASSERT(!s_globalStatusSettings->q);
  s_globalStatusSettings->q = this;
  setCurrentGroup( QLatin1String( "Status" ) );

  QList<KConfigSkeleton::ItemEnum::Choice2> valuesprotocolStatusMenuType;
  {
    KConfigSkeleton::ItemEnum::Choice2 choice;
    choice.name = QLatin1String("StatusesNotFiltered");
    valuesprotocolStatusMenuType.append( choice );
  }
  {
    KConfigSkeleton::ItemEnum::Choice2 choice;
    choice.name = QLatin1String("StatusesWithSameCategory");
    valuesprotocolStatusMenuType.append( choice );
  }
  {
    KConfigSkeleton::ItemEnum::Choice2 choice;
    choice.name = QLatin1String("UseParentStatusCategory");
    valuesprotocolStatusMenuType.append( choice );
  }
  mProtocolStatusMenuTypeItem = new KConfigSkeleton::ItemEnum( currentGroup(), QLatin1String( "protocolStatusMenuType" ), mProtocolStatusMenuType, valuesprotocolStatusMenuType, EnumProtocolStatusMenuType::StatusesNotFiltered );
  addItem( mProtocolStatusMenuTypeItem, QLatin1String( "protocolStatusMenuType" ) );
}

StatusSettings::~StatusSettings()
{
  if (!s_globalStatusSettings.isDestroyed()) {
    s_globalStatusSettings->q = 0;
  }
}

